<div class="content">
  <div class="title">
    {{ pageTitle }}
  </div>

  @if (isLoading()) {
  <div>Loading products...</div>
  } @else if (errorMessage()) {
  <div style="color: red">An error occurred: {{ errorMessage() }}</div>
  } @else {
  <div class="grid">
    <!-- Product Selection -->
    <div class="row">
      <div class="cellFull">
        <select [(ngModel)]="selectedProduct">
          <option value="undefined" selected>--Select a Product--</option>
          @for (product of products(); track product.id) {
          <option [ngValue]="product">{{ product.productName }}</option>
          }
        </select>
      </div>
    </div>

    <!-- Product Name -->
    <div class="row">
      <div class="cellLeft">Name:</div>
      <div class="cellRight">{{ selectedProduct()?.productName }}</div>
    </div>

    <!-- Product Description -->
    <div class="row">
      <div class="cellLeft">Description:</div>
      <div class="cellRight">{{ selectedProduct()?.description }}</div>
    </div>

    <!-- Product Price -->
    <div class="row">
      <div class="cellLeft">Price:</div>
      <div class="cellRight">{{ selectedProduct()?.price | currency }}</div>
    </div>

    <!-- Quantity -->
    <div class="row">
      <div class="cellLeft">
        <label for="quantity">Quantity:</label>
      </div>
      <div class="cellRight">
        <app-quantity-control [value]="quantity()" (valueChange)="quantity.set($event)">
        </app-quantity-control>
      </div>
    </div>

    <label class="demoToggle">
      <input type="checkbox" [checked]="useLazyMode()" (change)="onToggleLazy($event)" />
      Use lazy evaluation
    </label>

    <!-- Total -->
    <div class="row">
      <div class="cellLeft">Total:</div>
      <div class="cellRight" [style.color]="color()">{{ selectedTotal() | currency }}</div>
    </div>
  </div>
  <app-review-list />
  }
</div>
